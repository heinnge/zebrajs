$=function(a,b,c){"use strict";if(!(this instanceof $)){if("string"==typeof a){if(0===a.indexOf("<"))return b=document.createElement("div"),b.innerHTML=a,new $(b.firstChild);if(b?b instanceof $&&(b=b.get(0)):b=document,a.match(/^\#[^\s]+$/))return new $(b.getElementById(a.substr(1)));if(c)try{return new $(b.querySelector(a))}catch(a){return!1}try{return new $(Array.prototype.slice.call(b.querySelectorAll(a)))}catch(a){return!1}}else{if("object"==typeof a&&(a instanceof Document||a instanceof Element||a instanceof Text||a instanceof Window)||Array.isArray(a))return new $(a);if(a instanceof $)return a}return!1}if(a){var d=this,e=a instanceof Document||a instanceof Element||a instanceof Text||a instanceof Window?[a]:[].concat(a),f=0;this.get=function(a){return void 0!==a?e[a]:e},this._class=function(a,b){return b=b.split(" "),e.forEach(function(c){b.forEach(function(b){c.classList["add"===a||"toggle"===a&&!c.classList.contains(b)?"add":"remove"](b)})}),d},this._dom_insert=function(a,b){if(a instanceof $)a=a.get();else if(a instanceof Element||a instanceof Text)a=[a];else if("wrap"!==b&&"replace"!==b||"string"!=typeof a){if("string"!=typeof a)return!1}else a=$(a).get();return e.forEach(function(c){"string"==typeof a?c.insertAdjacentHTML(("append"===b?"before":"after")+("before"===b||"prepend"===b?"begin":"end"),a):a.forEach(function(a,d){switch(b){case"after":case"replace":case"wrap":c.parentNode.insertBefore(d<e.length-1?a.cloneNode(!0):a,c.nextSibling);break;case"append":c.appendChild(d<e.length-1?a.cloneNode(!0):a);break;case"before":c.parentNode.insertBefore(d<e.length-1?a.cloneNode(!0):a,c);break;case"prepend":c.insertBefore(d<e.length-1?a.cloneNode(!0):a,c.firstChild)}"wrap"!==b&&"replace"!==b||(c.parentNode.removeChild(c),"wrap"===b&&a.appendChild(c))})}),d},this._dom_search=function(a,b){var c,f,g,h=[];return e.forEach(function(e){c=!1,b&&(f="children"===a?e:e.parentNode,null===f.getAttribute("id")&&f.setAttribute("id",d._random("id")),c=!0),"siblings"===a?h=h.concat(Array.prototype.filter.call(b?e.parentNode.querySelectorAll("#"+e.parentNode.id+">"+b):e.parentNode.children,function(a){return a!==e})):"children"===a?h=h.concat(Array.prototype.slice.call(b?e.parentNode.querySelectorAll("#"+e.id+">"+b):e.children)):"previous"!==a&&"next"!==a||(b?(g=[],Array.prototype.filter.call(e.parentNode.querySelectorAll("#"+e.parentNode.id+">"+b),function(b){return"next"===a?(b===e||g.indexOf(e)>-1)&&g.push(b):g.indexOf(e)===-1&&g.push(b)}),h=h.concat(g.length>=2?g[g.length-2]:[])):h=h.concat([e[("next"===a?"next":"previous")+"ElementSibling"]])),c&&f.removeAttribute("id")}),$(h)},this._random=function(a){return f>Number.MAX_VALUE&&(f=0),a+"_"+f++},this.addClass=function(a){return this._class("add",a)},this.after=function(a){return this._dom_insert(a,"after")},this.ajax=function(){},this.append=function(a){return this._dom_insert(a,"append")},this.appendTo=function(a){return $(a)._dom_insert(this,"append")},this.attr=function(a,b){var c,f;if("object"==typeof a)e.forEach(function(b){for(c in a)b.setAttribute(f,a[f])});else if("string"==typeof a){if(void 0===b)return e[0].getAttribute(a);e.forEach(function(c){b===!1||null===b?c.removeAttribute(a):c.setAttribute(a,b)})}return d},this.before=function(a){return this._dom_insert(a,"before")},this.children=function(a){return this._dom_search("children",a)},this.clone=function(){},this.closest=function(){},this.css=function(a,b){var c,f;if("object"==typeof a)e.forEach(function(b){for(c in a)b.style[c]=a[c]});else{if(void 0===b)return f=window.getComputedStyle(e[0]),f[a];e.forEach(function(c){b===!1||null===b?c.style[a]=null:c.style[a]=b})}return d},this.data=function(){},this.each=function(a){for(var b=0;b<e.length;b++)if(a.call(e[b],b)===!1)return},this.find=function(a){var b=[];return e.forEach(function(c){"object"==typeof a&&a instanceof $?a.get().forEach(function(a){a.isSameNode(c)&&b.push(c)}):"object"==typeof a&&(a instanceof Document||a instanceof Element||a instanceof Window)?a.isSameNode(c)&&b.push(c):b.push(c.querySelector(a))}),b=b.filter(function(a){return null!==a}),$(b)},this.first=function(){return $(e[0])},this.hasClass=function(a){for(var b=0;b<e.length;b++)if(e[b].classList.contains(a))return!0;return!1},this.height=function(a){return a?this.css("height",a+(parseFloat(a)===a?"px":"")):parseFloat(window.getComputedStyle(e[0],null).height)||0},this.html=function(a){return a?(e.forEach(function(b){b.innerHTML=a}),d):e[0].innerHTML},this.inArray=function(){},this.insertAfter=function(a){return $(a)._dom_insert(this,"after")},this.insertBefore=function(a){return $(a)._dom_insert(this,"before")},this.mq=function(){},this.next=function(a){return this._dom_search("next",a)},this.off=function(){},this.offset=function(){var a=e[0].getBoundingClientRect();return{top:a.top+window.pageYOffset-document.documentElement.clientTop,left:a.left+window.pageXOffset-document.documentElement.clientLeft}},this.on=function(a,b){for(var c in e)e[c].addEventListener(a,b.call(this))},this.outerHeight=function(a){var b=window.getComputedStyle(e[0]);return parseFloat(b.height)+parseFloat(b.paddingTop)+parseFloat(b.paddingBottom)+parseFloat(b.borderTopWidth)+parseFloat(b.borderBottomWidth)+(a?parseFloat(b.marginTop)+parseFloat(b.marginBottom):0)||0},this.outerWidth=function(a){var b=window.getComputedStyle(e[0]);return parseFloat(b.width)+parseFloat(b.paddingLeft)+parseFloat(b.paddingRight)+parseFloat(b.borderLeftWidth)+parseFloat(b.borderRightWidth)+(a?parseFloat(b.marginLeft)+parseFloat(b.marginRight):0)||0},this.parent=function(a){var b=[];return e.forEach(function(c){a&&!c.parentNode.matches(a)||b.push(c.parentNode)}),$(b)},this.parents=function(){},this.position=function(){return{left:parseFloat(e[0].offsetLeft),top:parseFloat(e[0].offsetTop)}},this.prepend=function(a){return this._dom_insert(a,"prepend")},this.prependTo=function(a){return $(a)._dom_insert(this,"prepend")},this.prev=function(a){return this._dom_search("previous",a)},this.ready=function(a){"complete"===document.readyState||"loading"!==document.readyState?a():document.addEventListener("DOMContentLoaded",a)},this.remove=function(){},this.removeClass=function(a){return this._class("remove",a)},this.replaceWith=function(a){return this._dom_insert(a,"replace")},this.scrollLeft=function(){},this.scrollTop=function(){},this.serialize=function(){},this.siblings=function(a){return this._dom_search("siblings",a)},this.text=function(a){return a?(e.forEach(function(b){b.textContent=a}),d):e[0].textContent},this.toggleClass=function(a){return this._class("toggle",a)},this.trigger=function(){},this.unwrap=function(){},this.val=function(){},this.width=function(a){return a?this.css("width",a+(parseFloat(a)===a?"px":"")):parseFloat(window.getComputedStyle(e[0],null).width)||0},this.wrap=function(a){return this._dom_insert(a,"wrap")}}};